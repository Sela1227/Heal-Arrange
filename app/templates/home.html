{% extends "base.html" %}

{% block title %}é«˜æª¢ç—…äººå‹•æ…‹ç³»çµ±{% endblock %}

{% block content %}
<div class="text-center py-12">
    <h1 class="text-4xl font-bold text-gray-800 mb-4">ğŸ¥ é«˜æª¢ç—…äººå‹•æ…‹ç³»çµ±</h1>
    <p class="text-xl text-gray-600 mb-8">å½°æ¿±ç§€å‚³é«˜ç´šå¥æª¢ä¸­å¿ƒå³æ™‚è¿½è¹¤ç³»çµ±</p>
    
    {% if user %}
    <!-- å·²ç™»å…¥ -->
    <div class="bg-white rounded-xl shadow-lg p-8 max-w-md mx-auto">
        <div class="flex items-center justify-center mb-6">
            {% if user.picture_url %}
            <img src="{{ user.picture_url }}" alt="" class="w-20 h-20 rounded-full">
            {% else %}
            <div class="w-20 h-20 rounded-full bg-blue-100 flex items-center justify-center text-3xl">
                ğŸ‘¤
            </div>
            {% endif %}
        </div>
        
        <h2 class="text-xl font-bold text-gray-800 mb-2">
            {{ user.display_name or 'ç”¨æˆ¶' }}
        </h2>
        
        <div class="mb-6">
            {% if user.role == 'admin' %}
            <span class="px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm">ç®¡ç†å“¡</span>
            {% elif user.role == 'dispatcher' %}
            <span class="px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm">èª¿åº¦å“¡</span>
            {% elif user.role == 'coordinator' %}
            <span class="px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm">å°ˆå“¡</span>
            {% elif user.role == 'pending' %}
            <span class="px-3 py-1 bg-yellow-100 text-yellow-700 rounded-full text-sm">å¾…å¯©æ ¸</span>
            {% endif %}
        </div>
        
        {% if user.role == 'pending' %}
        <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6">
            <p class="text-yellow-800">
                â³ æ‚¨çš„å¸³è™Ÿæ­£åœ¨ç­‰å¾…ç®¡ç†å“¡å¯©æ ¸<br>
                <span class="text-sm">å¯©æ ¸é€šéå¾Œå³å¯ä½¿ç”¨ç³»çµ±åŠŸèƒ½</span>
            </p>
        </div>
        {% else %}
        <div class="space-y-3">
            {% if user.role == 'admin' %}
            <a href="/admin" class="block w-full bg-red-500 hover:bg-red-600 text-white py-3 rounded-lg font-medium transition">
                ğŸ› ï¸ ç®¡ç†å¾Œå°
            </a>
            {% endif %}
            
            {% if user.role in ['admin', 'dispatcher'] %}
            <a href="/dispatcher" class="block w-full bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-lg font-medium transition">
                ğŸ“Š èª¿åº¦å°
            </a>
            {% endif %}
            
            {% if user.role in ['admin', 'coordinator'] %}
            <a href="/coordinator" class="block w-full bg-green-500 hover:bg-green-600 text-white py-3 rounded-lg font-medium transition">
                ğŸ‘¤ æˆ‘çš„ç—…äºº
            </a>
            {% endif %}
        </div>
        {% endif %}
        
        <div class="mt-6 pt-6 border-t">
            <a href="/auth/logout" class="text-red-500 hover:text-red-700">ç™»å‡º</a>
        </div>
    </div>
    
    {% else %}
    <!-- æœªç™»å…¥ -->
    <div class="bg-white rounded-xl shadow-lg p-8 max-w-md mx-auto">
        <p class="text-gray-600 mb-6">è«‹ä½¿ç”¨ LINE å¸³è™Ÿç™»å…¥ç³»çµ±</p>
        
        <a href="/auth/login" 
           class="inline-flex items-center px-8 py-4 bg-green-500 hover:bg-green-600 text-white rounded-lg font-bold text-lg transition">
            <span class="mr-2">ğŸ”</span>
            LINE ç™»å…¥
        </a>
        
        <div class="mt-8 text-sm text-gray-500">
            <p>ç³»çµ±è§’è‰²èªªæ˜ï¼š</p>
            <ul class="mt-2 space-y-1 text-left max-w-xs mx-auto">
                <li>ğŸ‘¨â€ğŸ’¼ <strong>ç®¡ç†å“¡</strong> - ç³»çµ±è¨­å®šèˆ‡å¸³è™Ÿç®¡ç†</li>
                <li>ğŸ“Š <strong>èª¿åº¦å“¡</strong> - ç—…äººæŒ‡æ´¾èˆ‡å³æ™‚ç›£æ§</li>
                <li>ğŸ‘¤ <strong>å°ˆå“¡</strong> - é™ªåŒç—…äººèˆ‡ç‹€æ…‹å›å ±</li>
            </ul>
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}
