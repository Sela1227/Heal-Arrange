{% extends "base.html" %}

{% block title %}é«˜æª¢ç—…äººå‹•æ…‹ç³»çµ±{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <!-- æ­¡è¿å€å¡Š -->
    <div class="bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl shadow-lg p-6 mb-8 text-white">
        <div class="flex items-center justify-between">
            <div>
                <h1 class="text-2xl font-bold mb-2">ğŸ‘‹ {{ user.display_name }}ï¼Œæ‚¨å¥½ï¼</h1>
                <p class="opacity-90">æ­¡è¿ä½¿ç”¨é«˜æª¢ç—…äººå‹•æ…‹ç³»çµ±</p>
            </div>
            {% if user.picture_url %}
            <img src="{{ user.picture_url }}" class="w-16 h-16 rounded-full border-2 border-white shadow" alt="">
            {% endif %}
        </div>
        
        <!-- æ¬Šé™æ¨™ç±¤ -->
        <div class="mt-4 flex flex-wrap gap-2">
            {% if user.is_admin %}
            <span class="px-3 py-1 bg-white/20 rounded-full text-sm">ğŸ”§ ç®¡ç†å“¡</span>
            {% endif %}
            {% if user.is_dispatcher %}
            <span class="px-3 py-1 bg-white/20 rounded-full text-sm">ğŸ“Š èª¿åº¦å“¡</span>
            {% endif %}
            {% if user.is_coordinator %}
            <span class="px-3 py-1 bg-white/20 rounded-full text-sm">ğŸ‘¤ å€‹ç®¡å¸«</span>
            {% endif %}
            {% if user.is_pending %}
            <span class="px-3 py-1 bg-orange-400/50 rounded-full text-sm">â³ å¾…å¯©æ ¸</span>
            {% endif %}
        </div>
    </div>
    
    {% if user.is_pending %}
    <!-- å¾…å¯©æ ¸æç¤º -->
    <div class="bg-orange-50 border border-orange-200 rounded-xl p-6 text-center">
        <div class="text-5xl mb-4">â³</div>
        <h2 class="text-xl font-bold text-orange-800 mb-2">å¸³è™Ÿå¯©æ ¸ä¸­</h2>
        <p class="text-orange-600">
            æ‚¨çš„å¸³è™Ÿæ­£åœ¨ç­‰å¾…ç®¡ç†å“¡å¯©æ ¸ï¼Œè«‹ç¨å€™ã€‚<br>
            å¯©æ ¸é€šéå¾Œå³å¯ä½¿ç”¨ç³»çµ±åŠŸèƒ½ã€‚
        </p>
    </div>
    
    {% else %}
    <!-- åŠŸèƒ½å…¥å£ -->
    <h2 class="text-lg font-bold text-gray-700 mb-4">ğŸš€ åŠŸèƒ½å…¥å£</h2>
    
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
        {% if user.is_coordinator %}
        <!-- å€‹ç®¡å¸«åŠŸèƒ½ -->
        <a href="/coordinator" 
           class="bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition group border-2 border-green-100 hover:border-green-300">
            <div class="flex items-center mb-3">
                <div class="text-4xl mr-4 group-hover:scale-110 transition">ğŸ‘¤</div>
                <div>
                    <h3 class="font-bold text-lg text-gray-800">æˆ‘çš„ç—…äºº</h3>
                    <p class="text-sm text-gray-500">ç‹€æ…‹å›å ±ã€é™ªåŒæª¢æŸ¥</p>
                </div>
            </div>
            <div class="text-green-600 text-sm font-medium">
                ğŸ“± é©åˆæ‰‹æ©Ÿä½¿ç”¨ â†’
            </div>
        </a>
        {% endif %}
        
        {% if user.is_dispatcher %}
        <!-- èª¿åº¦å“¡åŠŸèƒ½ -->
        <a href="/dispatcher" 
           class="bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition group border-2 border-blue-100 hover:border-blue-300">
            <div class="flex items-center mb-3">
                <div class="text-4xl mr-4 group-hover:scale-110 transition">ğŸ“Š</div>
                <div>
                    <h3 class="font-bold text-lg text-gray-800">èª¿åº¦å°</h3>
                    <p class="text-sm text-gray-500">ç—…äººæŒ‡æ´¾ã€å³æ™‚ç›£æ§</p>
                </div>
            </div>
            <div class="text-blue-600 text-sm font-medium">
                ğŸ–¥ï¸ é©åˆé›»è…¦ä½¿ç”¨ â†’
            </div>
        </a>
        {% endif %}
        
        {% if user.is_admin %}
        <!-- ç®¡ç†å“¡åŠŸèƒ½ -->
        <a href="/admin" 
           class="bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition group border-2 border-purple-100 hover:border-purple-300">
            <div class="flex items-center mb-3">
                <div class="text-4xl mr-4 group-hover:scale-110 transition">ğŸ”§</div>
                <div>
                    <h3 class="font-bold text-lg text-gray-800">ç®¡ç†å¾Œå°</h3>
                    <p class="text-sm text-gray-500">å¸³è™Ÿã€è¨­å‚™ã€ç³»çµ±è¨­å®š</p>
                </div>
            </div>
            <div class="text-purple-600 text-sm font-medium">
                âš™ï¸ ç³»çµ±ç®¡ç† â†’
            </div>
        </a>
        {% endif %}
        
        {% if user.is_dispatcher or user.is_admin %}
        <!-- å ±è¡¨åŠŸèƒ½ -->
        <a href="/admin/reports" 
           class="bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition group">
            <div class="flex items-center mb-3">
                <div class="text-4xl mr-4 group-hover:scale-110 transition">ğŸ“ˆ</div>
                <div>
                    <h3 class="font-bold text-lg text-gray-800">çµ±è¨ˆå ±è¡¨</h3>
                    <p class="text-sm text-gray-500">æ•¸æ“šåˆ†æã€åŒ¯å‡º</p>
                </div>
            </div>
        </a>
        {% endif %}
    </div>
    {% endif %}
    
    <!-- ç™»å‡º -->
    <div class="mt-8 text-center">
        <a href="/auth/logout" class="text-gray-400 hover:text-gray-600 text-sm">
            ğŸšª ç™»å‡º
        </a>
    </div>
</div>
{% endblock %}
