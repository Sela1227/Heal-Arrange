{% extends "base.html" %}

{% block title %}ç®¡ç†å¾Œå° - é«˜æª¢ç—…äººå‹•æ…‹ç³»çµ±{% endblock %}

{% block content %}
<div class="mb-6">
    <h1 class="text-2xl font-bold text-gray-800">âš™ï¸ ç®¡ç†å¾Œå°</h1>
</div>

<!-- çµ±è¨ˆå¡ç‰‡ -->
<div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
    <div class="bg-white rounded-xl shadow p-5">
        <div class="text-3xl mb-2">ğŸ‘¥</div>
        <div class="text-2xl font-bold text-gray-800">{{ user_count }}</div>
        <div class="text-gray-500 text-sm">ç¸½ç”¨æˆ¶æ•¸</div>
        {% if pending_count > 0 %}
        <div class="mt-2 text-orange-500 text-sm">
            âš ï¸ {{ pending_count }} äººç­‰å¾…æˆæ¬Š
        </div>
        {% endif %}
    </div>
    
    <div class="bg-white rounded-xl shadow p-5">
        <div class="text-3xl mb-2">ğŸ¥</div>
        <div class="text-2xl font-bold text-gray-800">{{ patient_count }}</div>
        <div class="text-gray-500 text-sm">ä»Šæ—¥ç—…äºº</div>
    </div>
    
    <div class="bg-white rounded-xl shadow p-5">
        <div class="text-3xl mb-2">ğŸ”¬</div>
        <div class="text-2xl font-bold text-gray-800">{{ exam_count }}</div>
        <div class="text-gray-500 text-sm">æª¢æŸ¥é …ç›®</div>
    </div>
    
    <div class="bg-white rounded-xl shadow p-5">
        <div class="text-3xl mb-2">ğŸ–¥ï¸</div>
        <div class="text-2xl font-bold text-gray-800">{{ equipment_count }}</div>
        <div class="text-gray-500 text-sm">è¨­å‚™æ•¸é‡</div>
        {% if broken_count > 0 %}
        <div class="mt-2 text-red-500 text-sm">
            ğŸ”´ {{ broken_count }} å°æ•…éšœä¸­
        </div>
        {% endif %}
    </div>
</div>

<!-- å¿«æ·åŠŸèƒ½ -->
<h2 class="text-lg font-bold text-gray-700 mb-4">ğŸ“Œ å¿«æ·åŠŸèƒ½</h2>
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
    <a href="/admin/users" 
       class="bg-white rounded-xl shadow p-5 hover:shadow-lg transition flex items-center">
        <div class="text-3xl mr-4">ğŸ‘¥</div>
        <div>
            <div class="font-bold text-gray-800">å¸³è™Ÿç®¡ç†</div>
            <div class="text-sm text-gray-500">è¨­å®šç”¨æˆ¶è§’è‰²</div>
        </div>
    </a>
    
    <a href="/admin/patients" 
       class="bg-white rounded-xl shadow p-5 hover:shadow-lg transition flex items-center">
        <div class="text-3xl mr-4">ğŸ“‹</div>
        <div>
            <div class="font-bold text-gray-800">ç—…äººç®¡ç†</div>
            <div class="text-sm text-gray-500">åŒ¯å…¥ä»Šæ—¥åå–®</div>
        </div>
    </a>
    
    <a href="/admin/exams" 
       class="bg-white rounded-xl shadow p-5 hover:shadow-lg transition flex items-center">
        <div class="text-3xl mr-4">ğŸ”¬</div>
        <div>
            <div class="font-bold text-gray-800">æª¢æŸ¥é …ç›®ç®¡ç†</div>
            <div class="text-sm text-gray-500">æ–°å¢/ç·¨è¼¯æª¢æŸ¥</div>
        </div>
    </a>
    
    <a href="/admin/equipment" 
       class="bg-white rounded-xl shadow p-5 hover:shadow-lg transition flex items-center">
        <div class="text-3xl mr-4">ğŸ–¥ï¸</div>
        <div>
            <div class="font-bold text-gray-800">è¨­å‚™ç®¡ç†</div>
            <div class="text-sm text-gray-500">æ•…éšœç‹€æ…‹/ç¶­ä¿®</div>
        </div>
    </a>
</div>

<!-- åˆå§‹åŒ–å€å¡Š -->
<h2 class="text-lg font-bold text-gray-700 mb-4">ğŸš€ ç³»çµ±åˆå§‹åŒ–</h2>
<div class="grid grid-cols-1 md:grid-cols-3 gap-4">
    <form action="/admin/exams/init" method="POST" class="contents">
        <button type="submit"
                class="bg-blue-50 border-2 border-blue-200 rounded-xl shadow p-5 hover:bg-blue-100 transition flex items-center text-left w-full">
            <div class="text-3xl mr-4">ğŸ”¬</div>
            <div>
                <div class="font-bold text-blue-800">åˆå§‹åŒ–æª¢æŸ¥é …ç›®</div>
                <div class="text-sm text-blue-600">å»ºç«‹é è¨­æª¢æŸ¥ç«™</div>
            </div>
        </button>
    </form>
    
    <form action="/admin/equipment/init" method="POST" class="contents">
        <button type="submit"
                class="bg-green-50 border-2 border-green-200 rounded-xl shadow p-5 hover:bg-green-100 transition flex items-center text-left w-full">
            <div class="text-3xl mr-4">ğŸ–¥ï¸</div>
            <div>
                <div class="font-bold text-green-800">åˆå§‹åŒ–è¨­å‚™</div>
                <div class="text-sm text-green-600">ä¾æª¢æŸ¥ç«™å»ºç«‹è¨­å‚™</div>
            </div>
        </button>
    </form>
    
    <a href="/dispatcher" 
       class="bg-orange-50 border-2 border-orange-200 rounded-xl shadow p-5 hover:bg-orange-100 transition flex items-center">
        <div class="text-3xl mr-4">ğŸ“Š</div>
        <div>
            <div class="font-bold text-orange-800">å‰å¾€èª¿åº¦å°</div>
            <div class="text-sm text-orange-600">é–‹å§‹ä»Šæ—¥ä½œæ¥­</div>
        </div>
    </a>
</div>
{% endblock %}
